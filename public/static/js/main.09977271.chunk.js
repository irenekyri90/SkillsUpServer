(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{23:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),o=n.n(a),r=n(33),i=n.n(r),c=n(6),l=n(2),h=n(3),d=n(5),u=n(4),p=(n(23),n(40),n(7)),j=n(15),b=n(12),g=n.n(b),O=new(function(){function e(){Object(l.a)(this,e),this.auth=g.a.create({baseURL:"https://skills-up-app.herokuapp.com",withCredentials:!0})}return Object(h.a)(e,[{key:"signup",value:function(e,t,n,s){return this.auth.post("/auth/signup",{username:e,img:t,email:n,password:s}).then((function(e){return e.data}))}},{key:"login",value:function(e,t){return this.auth.post("/auth/login",{username:e,password:t}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout").then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}},{key:"uploadImage",value:function(e){return this.auth.post("/auth/upload",e,{withCredentials:!0}).then((function(e){return e.data}))}}]),e}()),m=o.a.createContext(),f=m.Consumer,x=m.Provider,v=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedIn:!1,isLoading:!0,user:null},e.signup=function(t,n,s,a){O.signup(t,n,s,a).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t,n){O.login(t,n).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){O.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user,o=this.signup,r=this.login,i=this.logout;return n?Object(s.jsx)("p",{children:"Loading"}):Object(s.jsx)(x,{value:{isLoggedIn:t,isLoading:n,user:a,signup:o,login:r,logout:i},children:this.props.children})}}]),n}(o.a.Component),k=function(e){return function(t){Object(d.a)(a,t);var n=Object(u.a)(a);function a(){return Object(l.a)(this,a),n.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this;return Object(s.jsx)(f,{children:function(n){var a=n.isLoggedIn,o=n.isLoading,r=n.user,i=n.signup,c=n.login,l=n.logout;return Object(s.jsx)(e,Object(j.a)(Object(j.a)({},t.props),{},{isLoggedIn:a,isLoading:o,user:r,signup:i,login:c,logout:l}))}})}}]),a}(o.a.Component)},y=(n(58),k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleDayMode=function(){e.props.setDayMode()},e.handleNightMode=function(){e.props.setNightMode()},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"nav-left",children:[Object(s.jsx)(c.b,{to:"/",className:"navbar-brand",children:"SkillsUp"}),this.props.user?Object(s.jsx)("img",{src:this.props.user.img}):null,Object(s.jsx)("button",{id:"sun-btn",onClick:this.handleDayMode,children:Object(s.jsx)("i",{class:"fas fa-sun"})}),Object(s.jsx)("button",{id:"moon-btn",onClick:this.handleNightMode,children:Object(s.jsx)("i",{class:"fas fa-moon"})})]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(s.jsxs)("div",{className:"navbar-nav",children:[Object(s.jsx)(c.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"}),Object(s.jsx)(c.b,{className:"nav-link active","aria-current":"page",to:"/instructions",children:"How it works"}),Object(s.jsx)(c.b,{className:"nav-link",to:"/private/profile",children:"My Profile"}),this.props.isLoggedIn?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(c.b,{onClick:this.props.logout,className:"nav-link",children:"Logout"})}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(c.b,{className:"nav-link",to:"/login",children:"Login"}),Object(s.jsx)("br",{}),Object(s.jsx)(c.b,{className:"nav-link",to:"/signup",children:"Signup"})]})]})})]})})}}]),n}(a.Component))),w=(n(64),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{id:"footer-div",children:[Object(s.jsx)("p",{children:"Follow Us"}),Object(s.jsx)("i",{className:"fab fa-instagram"}),Object(s.jsx)("i",{className:"fab fa-facebook-f"}),Object(s.jsx)("i",{className:"far fa-envelope"}),Object(s.jsx)("i",{className:"fab fa-twitter"}),Object(s.jsx)("p",{id:"disclaimer",children:"disclaimer"})]})}}]),n}(a.Component));n(65);var C=function(e){return Object(s.jsx)(c.b,{to:"/workshops/category/".concat(e.category),children:Object(s.jsx)("div",{id:e.id,className:"categoryCard",children:Object(s.jsx)("h3",{children:e.category})})})},S=n(13),W=(n(66),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={search:""},e.handleInput=function(t){var n=t.target,s=n.value,a=n.name;e.setState(Object(S.a)({},a,s)),e.props.filterWorkshops(s)},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"search-container",children:Object(s.jsx)("input",{type:"text",className:"input search-bar",name:"search",placeholder:"What fascinates you?",value:this.state.search,onChange:this.handleInput})})}}]),n}(o.a.Component)),I=(n(67),n(68),new function e(){var t=this;Object(l.a)(this,e),this.getAllWorkshops=function(){return t.api.get("/workshops").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getUser=function(){return t.api.get("/user",{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getOneWorkshop=function(e){return t.api.get("/workshops/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.signupForWorkshop=function(e,n){return t.api.post("/workshops/signup/".concat(e),{userId:n}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getWorkshopsByCategory=function(e){return t.api.get("/workshops/category/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.addOneWorkshop=function(e,n,s,a,o,r,i,c,l,h){return t.api.post("/workshops",{title:e,img:n,description:s,date:a,category:o,length:r,credits:i,maxParticipants:c,location:l,userId:h},{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.uploadImage=function(e){return t.api.post("/upload",e,{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.editOneWorkshop=function(e,n,s,a,o,r,i,c,l,h,d){return t.api.put("/workshops/".concat(e),{title:n,img:s,description:a,date:o,category:r,length:i,credits:c,maxParticipants:l,location:h,userId:d},{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.deleteOneWorkshop=function(e,n){return t.api.post("/workshops/".concat(e),{userId:n},{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.cancelOneWorkshop=function(e,n){return t.api.post("/workshops/cancel/".concat(e),{userId:n},{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.api=g.a.create({baseURL:"https://skills-up-app.herokuapp.com/api",withCredentials:!0})}),N=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={title:e.props.workshop.title,img:e.props.workshop.img,description:e.props.workshop.description,category:e.props.workshop.category,date:e.props.workshop.date,length:e.props.workshop.length,credits:e.props.workshop.credits,maxParticipants:e.props.workshop.maxParticipants,location:e.props.workshop.location},e.handleInput=function(t){var n=t.target,s=n.name,a=n.value,o=n.type;console.log(a),"checkbox"===o&&(a=!e.state[s]),"length"===s&&e.setState({credits:Math.round(a/60*10)}),e.setState(Object(S.a)({},s,a))},e.handleSubmit=function(t){t.preventDefault(),console.log("Button submitted");var n=e.state,s=n.title,a=n.img,o=n.description,r=n.category,i=n.date,c=n.length,l=n.credits,h=n.maxParticipants,d=n.location,u=e.props.user._id,p=e.props.workshop._id;I.editOneWorkshop(p,s,a,o,i,r,c,l,h,d,u).then((function(t){e.props.edit()}))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files);var n=t.target.files[0],s=new FormData;s.append("img",n),I.uploadImage(s).then((function(t){e.setState({img:t.secure_url})}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,id:"edit-form",children:[Object(s.jsx)("input",{name:"title",type:"text",placeholder:"Workshop",value:this.state.title,onChange:this.handleInput,required:!0}),Object(s.jsx)("label",{children:"Upload an Image"}),Object(s.jsx)("input",{name:"img",type:"file",onChange:this.handleFileUpload}),Object(s.jsx)("span",{children:Object(s.jsx)("img",{style:{width:"100px"},src:this.state.img&&this.state.img,alt:""})}),Object(s.jsx)("textarea",{name:"description",type:"text",placeholder:"description",value:this.state.description,onChange:this.handleInput,required:!0}),Object(s.jsxs)("div",{id:"category-checkboxes",children:[Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"sports",children:"Sports"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"sports",value:"Sports",onChange:this.handleInput,required:!0})]}),Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"beauty",children:"Beauty"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"beauty",value:"Beauty",onChange:this.handleInput})]}),Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"languages",children:"Languages"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"languages",value:"Languages",onChange:this.handleInput})]}),Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"creativity",children:"Creativity"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"creativity",value:"Creativity",onChange:this.handleInput})]}),Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"food-drink",children:"Food & Drink"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"food-drink",value:"Food & Drink",onChange:this.handleInput})]}),Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"performing-arts",children:"Performing Arts"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"performing-arts",value:"Performing Arts",onChange:this.handleInput})]}),Object(s.jsxs)("div",{className:"checkbox-pair",children:[Object(s.jsx)("label",{for:"other",children:"Other"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"other",value:"Other",onChange:this.handleInput})]})]}),Object(s.jsx)("input",{name:"date",type:"date",value:this.state.date,onChange:this.handleInput}),Object(s.jsx)("input",{name:"length",type:"number",placeholder:"duration",value:this.state.length,onChange:this.handleInput,required:!0}),Object(s.jsxs)("p",{children:["Price: ",this.state.credits]}),Object(s.jsx)("input",{type:"number",name:"maxParticipants",placeholder:"max number of participants",value:this.state.maxParticipants,onChange:this.handleInput,required:!0}),Object(s.jsx)("textarea",{type:"text",name:"location",placeholder:"location",value:this.state.location,onChange:this.handleInput,required:!0}),Object(s.jsx)("button",{type:"submit",children:" Edit your workshop "})]})}}]),n}(o.a.Component)),L=n(18),M=n.n(L),F=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showEditForm:!1,host:{}},e.componentDidMount=function(){I.getOneWorkshop(e.props.workshop._id).then((function(t){e.setState({host:t.host})}))},e.handleDelete=function(){var t=e.props.user._id;e.props.user;console.log("USERID",t),I.deleteOneWorkshop(e.props.workshop._id,t).then((function(t){e.props.delete()}))},e.handleCancel=function(){var t=e.props.user._id;console.log(t),I.cancelOneWorkshop(e.props.workshop._id,t).then((function(t){e.props.cancel()}))},e.handleEdit=function(){e.setState({showEditForm:!e.state.showEditForm}),e.props.edit()},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.workshop,t=M()(e.date).format("ll");return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"workshop-card",children:[Object(s.jsx)(c.b,{to:"/workshops/".concat(e._id),children:Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{className:"workshop-card-img",src:e.img,alt:""})})}),Object(s.jsxs)("div",{id:"card-information",children:[Object(s.jsxs)("div",{id:"card-top",children:[Object(s.jsxs)("p",{children:[Object(s.jsx)("i",{className:"far fa-clock"})," ",t]}),Object(s.jsxs)("p",{className:"credits",children:[e.credits," credits"]})]}),Object(s.jsx)(c.b,{to:"/workshops/".concat(e._id),children:Object(s.jsx)("h3",{id:"card-title",children:e.title})}),Object(s.jsxs)("div",{id:"card-bottom",children:[this.state.host?Object(s.jsxs)("div",{class:"card-host-container",children:[Object(s.jsx)("img",{id:"workshop-card-host-img",src:this.state.host.img,alt:""}),Object(s.jsx)("p",{children:this.state.host.username})]}):Object(s.jsx)("div",{class:"card-host-container",children:Object(s.jsxs)("p",{children:[Object(s.jsx)("i",{className:"fas fa-user"})," hosted by",Object(s.jsx)("span",{children:" SkillsUp"})]})}),Object(s.jsxs)("div",{className:"icons",children:[Object(s.jsx)("div",{onClick:this.handleDelete,children:this.props.showBin?Object(s.jsx)("i",{className:"fas fa-trash-alt"}):null}),Object(s.jsx)("div",{onClick:this.handleEdit,children:this.props.showPen?Object(s.jsx)("i",{className:"fas fa-pen"}):null}),Object(s.jsx)("div",{onClick:this.handleCancel,children:this.props.showCross?Object(s.jsx)("div",{children:Object(s.jsx)("i",{className:"fas fa-times"})}):null})]})]})]})]}),Object(s.jsx)("div",{children:this.state.showEditForm?Object(s.jsx)(N,{workshop:e,edit:this.handleEdit}):null})]})}}]),n}(o.a.Component)),A=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={workshopList:[],filteredWorkshops:[],showErrorMessage:!1},e.componentDidMount=function(){I.getAllWorkshops().then((function(t){console.log(t),e.setState({workshopList:t})}))},e.filterWorkshops=function(t){var n=e.state.workshopList.filter((function(e){var n=e.title.toLowerCase(),s=t.toLowerCase();return n.includes(s)}));0===n.length&&e.setState({showErrorMessage:!0}),e.setState({filteredWorkshops:n}),""===t&&e.setState({filteredWorkshops:[],showErrorMessage:!1})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{id:"banner",children:[Object(s.jsx)("h1",{children:"Try something new."}),Object(s.jsx)("p",{children:"Join SkillsUp to discover new skills and connect with others."}),Object(s.jsx)(W,{filterWorkshops:this.filterWorkshops})]}),this.state.showErrorMessage?Object(s.jsx)("p",{children:"Sorry, we couldn't match any results."}):null,this.state.filteredWorkshops.map((function(e){return Object(s.jsx)(F,{workshop:e})})),Object(s.jsxs)("div",{id:"description-section",children:[Object(s.jsx)("h4",{children:'"The key to success is dedication to life-long learning."'}),Object(s.jsxs)("p",{children:["First time on our page? Click ",Object(s.jsx)(c.b,{to:"/instructions",children:"here"})," ","to see how it works."]}),Object(s.jsx)(c.b,{to:"/signup",children:Object(s.jsx)("button",{children:"Get started for free"})})]}),Object(s.jsx)("h2",{className:"category-info",children:"Find something that intrigues you."}),Object(s.jsx)("p",{className:"category-info",children:"Pick a category."}),Object(s.jsx)(C,{category:"Sports",id:"sports"}),Object(s.jsx)(C,{category:"Beauty",id:"beauty"}),Object(s.jsx)(C,{category:"Languages",id:"languages"}),Object(s.jsx)(C,{category:"Creativity",id:"creativity"}),Object(s.jsx)(C,{category:"Food & Drink",id:"food-drink"}),Object(s.jsx)(C,{category:"Performing Arts",id:"performing-arts"}),Object(s.jsx)(C,{category:"Other",id:"other"})]})}}]),n}(o.a.Component),D=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",img:"https://media.istockphoto.com/vectors/default-profile-picture-avatar-photo-placeholder-vector-illustration-vector-id1214428300?b=1&k=6&m=1214428300&s=612x612&w=0&h=kMXMpWVL6mkLu0TN-9MJcEUx1oSWgUq8-Ny6Wszv_ms=",email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.username,a=n.img,o=n.email,r=n.password;e.props.signup(s,a,o,r)},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(S.a)({},s,a))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files);var n=t.target.files[0],s=new FormData;s.append("img",n),O.uploadImage(s).then((function(t){e.setState({img:t.secure_url})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.password;return Object(s.jsxs)("div",{id:"signup-page",children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("h1",{children:"Sign Up"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:Object(s.jsx)("img",{id:"uploaded-img",style:{width:"100px"},src:this.state.img&&this.state.img,alt:""})}),Object(s.jsx)("input",{name:"img",type:"file",onChange:this.handleFileUpload})]}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"username",className:"signup-login-input",value:t,onChange:this.handleChange,placeholder:"username"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"email",name:"email",className:"signup-login-input",value:n,onChange:this.handleChange,placeholder:"email"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"password",className:"signup-login-input",value:a,onChange:this.handleChange,placeholder:"password"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"submit",value:"Signup",id:"signup-button"})})]}),Object(s.jsx)("p",{children:"Already have an account?"}),Object(s.jsx)(c.b,{to:"/login",children:" Login"})]})}}]),n}(a.Component)),P=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.username,a=n.password;e.props.login(s,a)},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(S.a)({},s,a))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return Object(s.jsx)("div",{id:"login-page",children:Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"username",value:t,onChange:this.handleChange,placeholder:"username"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange,placeholder:"password"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"submit",value:"Login",id:"login-btn"})})]})})}}]),n}(a.Component)),U=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={title:"",img:"",description:"",category:"",date:"",length:0,credits:0,maxParticipants:"",location:""},e.handleInput=function(t){var n=t.target,s=n.name,a=n.value,o=n.type;console.log(a),"checkbox"===o&&(a=!e.state[s]),"length"===s&&e.setState({credits:Math.round(a/60*10)}),e.setState(Object(S.a)({},s,a))},e.handleSubmit=function(t){t.preventDefault(),console.log("Button submitted");var n=e.state,s=n.title,a=n.img,o=n.description,r=n.category,i=n.date,c=n.length,l=n.credits,h=n.maxParticipants,d=n.location,u=e.props.user._id;I.addOneWorkshop(s,a,o,i,r,c,l,h,d,u).then((function(t){e.props.createWorkshop()}))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files);var n=t.target.files[0],s=new FormData;s.append("img",n),I.uploadImage(s).then((function(t){e.setState({img:t.secure_url})}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("input",{name:"title",type:"text",placeholder:"Workshop",value:this.state.title,onChange:this.handleInput,required:!0}),Object(s.jsx)("label",{children:"Upload an Image"}),Object(s.jsx)("input",{name:"img",type:"file",onChange:this.handleFileUpload,required:!0}),Object(s.jsx)("span",{children:Object(s.jsx)("img",{style:{width:"100px"},src:this.state.img&&this.state.img,alt:""})}),Object(s.jsx)("textarea",{name:"description",type:"text",placeholder:"description",value:this.state.description,onChange:this.handleInput,required:!0}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{for:"sports",children:"Sports"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"sports",value:"Sports",onChange:this.handleInput,required:!0}),Object(s.jsx)("label",{for:"beauty",children:"Beauty"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"beauty",value:"Beauty",onChange:this.handleInput}),Object(s.jsx)("label",{for:"languages",children:"Languages"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"languages",value:"Languages",onChange:this.handleInput}),Object(s.jsx)("label",{for:"creativity",children:"Creativity"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"creativity",value:"Creativity",onChange:this.handleInput}),Object(s.jsx)("label",{for:"food-drink",children:"Food & Drink"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"food-drink",value:"Food & Drink",onChange:this.handleInput}),Object(s.jsx)("label",{for:"performing-arts",children:"Performing Arts"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"performing-arts",value:"Performing Arts",onChange:this.handleInput}),Object(s.jsx)("label",{for:"other",children:"Other"}),Object(s.jsx)("input",{type:"radio",name:"category",id:"other",value:"Other",onChange:this.handleInput})]}),Object(s.jsx)("input",{name:"date",type:"date",value:this.state.date,onChange:this.handleInput,required:!0}),Object(s.jsx)("input",{name:"length",type:"number",placeholder:"duration",value:this.state.length,onChange:this.handleInput,required:!0}),Object(s.jsxs)("p",{children:["Price: ",this.state.credits]}),Object(s.jsx)("input",{type:"number",name:"maxParticipants",placeholder:"max number of participants",value:this.state.maxParticipants,onChange:this.handleInput,required:!0}),Object(s.jsx)("textarea",{type:"text",name:"location",placeholder:"location",value:this.state.location,onChange:this.handleInput,required:!0}),Object(s.jsx)("button",{type:"submit",children:" Host your workshop "})]})}}]),n}(o.a.Component)),E=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={wallet:0,attendedWorkshops:[],hostedWorkshops:[],showForm:!1},e.toggleForm=function(){e.setState({showForm:!e.state.showForm})},e.addOneWorkshop=function(){I.getUser().then((function(t){console.log(t),e.setState({hostedWorkshops:t.hostedWorkshops,wallet:t.wallet})})),e.toggleForm()},e.deleteOneWorkshop=function(){I.getUser().then((function(t){console.log(t),e.setState({hostedWorkshops:t.hostedWorkshops,wallet:t.wallet})}))},e.editOneWorkshop=function(){I.getUser().then((function(t){console.log(t),e.setState({hostedWorkshops:t.hostedWorkshops,wallet:t.wallet})}))},e.cancelOneWorkshop=function(){I.getUser().then((function(t){console.log(t),e.setState({attendedWorkshops:t.attendedWorkshops,wallet:t.wallet})}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.getUser().then((function(t){console.log(t),e.setState({hostedWorkshops:t.hostedWorkshops,attendedWorkshops:t.attendedWorkshops,wallet:t.wallet})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{id:"profile-page",children:[Object(s.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]}),Object(s.jsx)("img",{id:"profile-image",src:this.props.user.img}),Object(s.jsxs)("p",{children:["Your Wallet: ",this.state.wallet," "]}),Object(s.jsx)("button",{onClick:this.toggleForm,children:"Host your own workshop"}),this.state.showForm?Object(s.jsx)(U,{createWorkshop:this.addOneWorkshop}):null,Object(s.jsx)("h2",{children:"Your hosted workshops"}),this.state.hostedWorkshops.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsx)(F,{workshop:t,showBin:!0,showPen:!0,delete:e.deleteOneWorkshop,edit:e.editOneWorkshop})},t._id)})).reverse(),Object(s.jsx)("h2",{children:"Your upcoming workshops"}),this.state.attendedWorkshops.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsx)(F,{workshop:t,showCross:!0,cancel:e.cancelOneWorkshop})},t._id)})).reverse()]})}}]),n}(a.Component));var _=function(){return Object(s.jsxs)("div",{id:"instructions-page",children:[Object(s.jsx)("div",{id:"instructions-banner",children:Object(s.jsx)("h1",{children:"Start learning new skills and host your own workshop!"})}),Object(s.jsxs)("div",{id:"instructions-container",children:[Object(s.jsx)("h3",{children:"Here\u2019s all the info you need to get started:"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:"Create an account with us to have access to all of our features and participate to awesome workshops!"}),Object(s.jsxs)("li",{children:["Once you\u2019ve signed up, you automatically have 50 credits in your workshop wallet as a gift from us that you can use to attend any workshop on our platform."," "]}),Object(s.jsx)("li",{children:"Search through the workshops and sign up to the ones you like!"}),Object(s.jsx)("li",{children:"The amount of credits each workshop costs depends on how long it lasts. By default it\u2019s 10 credits/hour."}),Object(s.jsx)("li",{children:"you can cancel you attendance at any time before the workshop and get your credits back."}),Object(s.jsx)("li",{children:"If you enjoy the workshop and wish to make a donation to your workshop host for their hard work, we\u2019re sure they would appreciate it!"}),Object(s.jsx)("li",{children:"In order to gain more credit you have to host your own workshop (which we highly encourage!)"})]}),Object(s.jsx)("h3",{children:"How to Host you own workshop:"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:"Click on one of the \u2018host your own workshop\u2019 buttons"}),Object(s.jsx)("li",{children:"This will drop down a form which you will need to fill with all the details for this workshop."}),Object(s.jsx)("li",{children:"For every new workshop, you will be granted 30 credits/hour of the duration of the workshop. (If your workshop lasts 90min, you will receive 45 credits!)"}),Object(s.jsx)("li",{children:"After that, just do what you need to do to prepare and host your workshop! Make sure to be on time!"})]}),Object(s.jsx)("h3",{children:"And most importantly, HAVE FUN!"})]})]})},B=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={workshops:[]},e.getWorkshopsByCategory=function(){var t=e.props.match.params.category;I.getWorkshopsByCategory(t).then((function(t){e.setState({workshops:t})}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getWorkshopsByCategory()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"WorkshopList Page"}),this.state.workshops.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(F,{workshop:e})},e._id)}))]})}}]),n}(o.a.Component),q=k(function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={wallet:0,attendedWorkshops:[],title:" ",img:" ",description:" ",category:" ",date:" ",length:0,credits:0,participants:[],maxParticipants:0,host:{},location:" ",successMessage:" ",showErrorMessage:!1,errorMessage:""},e.getSingleWorkshop=function(){var t=e.props.match.params.id;I.getOneWorkshop(t).then((function(t){var n=t,s=n.title,a=n.img,o=n.description,r=n.category,i=n.date,c=n.length,l=n.credits,h=n.participants,d=n.maxParticipants,u=n.host,p=n.location;e.setState({title:s,img:a,description:o,category:r,date:i,length:c,credits:l,participants:h,maxParticipants:d,host:u,location:p})}))},e.componentDidMount=function(){e.getSingleWorkshop(),I.getUser().then((function(t){e.setState({wallet:t.wallet,attendedWorkshops:t.attendedWorkshops})}))},e.handleSubmit=function(){console.log("BUTTON CLICKED");e.props.match.params.id;if(e.props.user){var t=e.state.wallet,n=e.state.attendedWorkshops;if(console.log("attendedn workshop",n),console.log(t),n.filter((function(t){return t._id===e.props.match.params.id})).length>0)e.setState({showErrorMessage:!0,errorMessage:"You've already signed up for this workshop."});else if(t<e.state.credits)e.setState({showErrorMessage:!0,errorMessage:"You don't have enough credit points to sign up for this event. Host your own workshop to earn more credits."});else{var s=e.props.match.params.id,a=e.props.user._id;console.log(s),I.signupForWorkshop(s,a).then((function(t){e.setState({successMessage:"You successfully signed up for this workshop."})}))}}else e.props.history.push("/login")},e}return Object(h.a)(n,[{key:"render",value:function(){var e=M()(this.state.date).format("LLLL");return Object(s.jsxs)("div",{id:"details-container",children:[Object(s.jsx)("p",{id:"details-date",children:e}),Object(s.jsx)("h2",{id:"workshop-title",children:this.state.title}),Object(s.jsx)("div",{id:"details-img-container",children:Object(s.jsx)("img",{id:"details-img",src:this.state.img,alt:""})}),Object(s.jsxs)("div",{id:"info-card",children:[Object(s.jsxs)("p",{id:"details-date",children:[Object(s.jsx)("i",{className:"fas fa-calendar-alt"})," ",e]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("i",{className:"far fa-clock"})," ",this.state.length," mins"]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("i",{className:"fas fa-coins"})," ",this.state.credits," credits"]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("i",{className:"fas fa-map-marker-alt"})," ",this.state.location]}),this.state.host?Object(s.jsxs)("div",{id:"host-div",children:[Object(s.jsx)("h4",{children:"Hosted by:"}),Object(s.jsx)("img",{className:"participant-img",src:this.state.host.img}),Object(s.jsx)("p",{children:this.state.host.username})]}):null]}),Object(s.jsx)("p",{id:"details-description",children:this.state.description}),this.state.participants.length===this.state.maxParticipants?Object(s.jsx)("p",{children:"this course is full!!!!!"}):Object(s.jsx)("button",{id:"signup-workshop-btn",type:"submit",onClick:this.handleSubmit,children:"Sign up for Workshop"}),this.state.showErrorMessage?Object(s.jsx)("p",{children:this.state.errorMessage}):null,Object(s.jsx)("p",{children:this.state.successMessage}),this.state.participants.length>0?Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{id:"attendees",children:"These people are already signed up:"}),this.state.participants.map((function(e){return Object(s.jsx)("img",{className:"participant-img",src:e.img,alt:""})}))]}):null]})}}]),n}(o.a.Component));var T=k((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.component,o=e.exact,r=e.path;return n?"Loading":Object(s.jsx)(p.b,{exact:o,path:r,render:function(e){return t?Object(s.jsx)(p.a,{to:"/private/profile"}):t?void 0:Object(s.jsx)(a,Object(j.a)({},e))}})}));var H=k((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.component,o=e.exact,r=e.path;return n?"Loading":Object(s.jsx)(p.b,{exact:o,path:r,render:function(e){return t?t?Object(s.jsx)(a,Object(j.a)({},e)):void 0:Object(s.jsx)(p.a,{to:"/login"})}})})),Y=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={backgroundColor:"white",color:"#262729"},e.setDayMode=function(){e.setState({backgroundColor:"white",color:"#262729"})},e.setNightMode=function(){e.setState({backgroundColor:"#262729",color:"white"})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"App",style:{backgroundColor:this.state.backgroundColor,color:this.state.color},children:[Object(s.jsx)(y,{setNightMode:this.setNightMode,setDayMode:this.setDayMode}),Object(s.jsxs)(p.d,{children:[Object(s.jsx)(p.b,{exact:!0,path:"/",component:A}),Object(s.jsx)(p.b,{exact:!0,path:"/instructions",component:_}),Object(s.jsx)(p.b,{exact:!0,path:"/workshops/category/:category",component:B}),Object(s.jsx)(p.b,{exact:!0,path:"/workshops/:id",component:q}),Object(s.jsx)(T,{exact:!0,path:"/signup",component:D}),Object(s.jsx)(T,{exact:!0,path:"/login",component:P}),Object(s.jsx)(H,{exact:!0,path:"/private/profile",component:E})]}),Object(s.jsx)(w,{})]})}}]),n}(a.Component);i.a.render(Object(s.jsx)(c.a,{children:Object(s.jsx)(v,{children:Object(s.jsx)(Y,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.09977271.chunk.js.map